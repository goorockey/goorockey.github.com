title: vim的统计功能
date: 2011-5-19
tags: [linux, vim]
categories: linux
---

今天遇到个问题：

    想要知道文章里面有多少个单词，要怎么做呢？

## 直接用vim的命令

命令模式下按： `g <Ctrl-g>`

这样命令行上面就会显示全文总的和当前的：行列数、单词数、字节数。

如果是在visual模式，选中了部分内容再按`g<C-g>`，则显示选择部分的对应信息。

更多详见`:h g_ctrl-g` 和`:h v_g_ctrl-g`

<!--more-->

## 巧用替换功能

1.统计字段

先来统计某个字段出现的次数，比如要统计vim,就是：`:%s/vim//gn`

然后命令行就会显示vim匹配的次数和匹配的行数了。。。(=0=)/

好，解释一下：

- `%s` 全文匹配
- `g` 匹配行内所有
- `n` 只显示匹配数，不真正地匹配

对了，关键就在与参数`n`了，哟！！

2.统计更多

好，来用s的匹配模式统计更多：

- 统计字符数 `:%s/.//gn`  (. 指代字符)
- 统计单词数 `:%s/i+//gn`  (i指代英文字母，i+就是一个或连续多个英文字母，所以就是单词了)
- 统计行数 `:%s/^//gn`  (^指代每行第一个非空字符)
- 精确匹配单词(如vim) `:%s/<vim>//gn`  (指代单词的开始，指代单词的结束)

(~0~)/ vim真强大啊，掌声加鬼吼！！

更多详见 
`:h count-items`
`:h su`
`:h search-pattern`

## P.S.

由于我配置了set hlsearch，每次匹配完都会高亮匹配，直到下一次匹配。 

想清除高亮，可以输入命令`:nohl`
